<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Order Confirmed - Thank you for your purchase at Loom Saga." />
    <meta name="author" content="Loom Saga" />

    <title>Order Confirmed | Loom Saga - Weaving Indian Culture</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500&family=Montserrat:wght@300;400;500;600&family=Pinyon+Script&display=swap" rel="stylesheet" />

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- ==================== HEADER ==================== -->
    <header class="header header-dark" id="header">
      <div class="header-container">
        <div class="header-top">
          <button class="hamburger" id="hamburger" aria-label="Toggle Menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
          </button>

          <p class="tagline">Weaving Indian Culture</p>

          <a href="index.html" class="logo" aria-label="Loom Saga Home">
            <img src="assets/images/logo.png" alt="Loom Saga Logo" class="logo-image" />
            <span class="logo-text">Loom Saga</span>
          </a>

          <div class="header-icons">
            <button class="icon-btn" id="searchBtn" aria-label="Search">
              <img src="assets/icons/search.png" alt="Search" width="20" height="20" />
            </button>
            <a href="wishlist.html" class="icon-btn" aria-label="Wishlist">
              <img src="assets/icons/heart.png" alt="Wishlist" width="20" height="20" />
              <span class="icon-badge" id="wishlistCount">0</span>
            </a>
            <a href="login.html" class="icon-btn" id="accountBtn" aria-label="Account">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </a>
            <a href="cart.html" class="icon-btn" aria-label="Shopping Cart">
              <img src="assets/icons/cart.png" alt="Cart" width="20" height="20" />
              <span class="icon-badge" id="cartCount">0</span>
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Mobile Navigation Overlay -->
    <div class="nav-overlay" id="navOverlay"></div>

    <!-- ==================== ORDER CONFIRMATION ==================== -->
    <main class="confirmation-page">
      <div class="container">
        <div class="confirmation-container">
          
          <!-- Success Icon -->
          <div class="confirmation-icon">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
          </div>

          <!-- Success Message -->
          <h1 class="confirmation-title">Thank You for Your Order!</h1>
          <p class="confirmation-subtitle">Your order has been placed successfully.</p>

          <!-- Order Number -->
          <div class="order-number-box">
            <span class="order-label">Order Number</span>
            <span class="order-id" id="orderId">LS-XXXXXXXX</span>
          </div>

          <!-- Order Details Card -->
          <div class="order-details-card">
            <h2 class="details-heading">Order Details</h2>

            <!-- Order Items -->
            <div class="order-items" id="orderItems">
              <!-- Items will be rendered by JavaScript -->
            </div>

            <!-- Order Summary -->
            <div class="order-summary-section">
              <div class="summary-line">
                <span>Subtotal</span>
                <span id="confirmSubtotal">â‚¹0</span>
              </div>
              <div class="summary-line">
                <span>Shipping</span>
                <span>FREE</span>
              </div>
              <div class="summary-line">
                <span>Tax (GST 5%)</span>
                <span id="confirmTax">â‚¹0</span>
              </div>
              <div class="summary-line total">
                <span>Total</span>
                <span id="confirmTotal">â‚¹0</span>
              </div>
            </div>

            <!-- Shipping Address -->
            <div class="shipping-details">
              <h3>Shipping To</h3>
              <div class="address-block" id="shippingAddress">
                <!-- Address will be rendered by JavaScript -->
              </div>
            </div>

            <!-- Payment Method -->
            <div class="payment-details">
              <h3>Payment Method</h3>
              <p id="paymentMethod">Cash on Delivery</p>
            </div>

            <!-- Delivery Estimate -->
            <div class="delivery-details">
              <h3>Estimated Delivery</h3>
              <p class="delivery-date" id="deliveryDate">7-10 business days</p>
            </div>
          </div>

          <!-- What's Next Section -->
          <div class="whats-next">
            <h2>What's Next?</h2>
            <ul class="next-steps">
              <li>
                <span class="step-icon">ðŸ“§</span>
                <span>You'll receive an order confirmation email shortly</span>
              </li>
              <li>
                <span class="step-icon">ðŸ“¦</span>
                <span>We'll notify you when your order ships</span>
              </li>
              <li>
                <span class="step-icon">ðŸšš</span>
                <span>Track your order anytime in your account</span>
              </li>
            </ul>
          </div>

          <!-- Action Buttons -->
          <div class="confirmation-actions">
            <a href="index.html" class="primary-btn">Continue Shopping</a>
            <a href="#" class="secondary-btn">Track Order</a>
          </div>

          <!-- Need Help -->
          <p class="help-text">
            Need help? <a href="contact.html">Contact Us</a>
          </p>

        </div>
      </div>
    </main>

    <!-- ==================== FOOTER ==================== -->
    <footer class="footer footer-minimal">
      <div class="container">
        <p class="footer-copyright">Â© 2026, Loom Saga. All rights reserved.</p>
      </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/main.js"></script>

    <!-- Order Confirmation Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Get last order from localStorage
        const orderData = JSON.parse(localStorage.getItem('loomSaga_lastOrder'));
        
        // If no order data, redirect to home
        if (!orderData) {
          window.location.href = 'index.html';
          return;
        }

        // Display order ID
        document.getElementById('orderId').textContent = orderData.orderId;

        // Display order items
        const orderItemsContainer = document.getElementById('orderItems');
        let itemsHtml = '';
        
        orderData.items.forEach(item => {
          itemsHtml += `
            <div class="order-item">
              <img src="${item.image}" alt="${item.name}" class="order-item-image">
              <div class="order-item-info">
                <p class="order-item-name">${item.name}</p>
                <p class="order-item-qty">Qty: ${item.quantity}</p>
              </div>
              <p class="order-item-price">â‚¹${formatPrice(item.price * item.quantity)}</p>
            </div>
          `;
        });
        orderItemsContainer.innerHTML = itemsHtml;

        // Display totals
        document.getElementById('confirmSubtotal').textContent = `â‚¹${formatPrice(orderData.subtotal)}`;
        document.getElementById('confirmTax').textContent = `â‚¹${formatPrice(orderData.tax)}`;
        document.getElementById('confirmTotal').textContent = `â‚¹${formatPrice(orderData.total)}`;

        // Display shipping address
        const shipping = orderData.shipping;
        document.getElementById('shippingAddress').innerHTML = `
          <p><strong>${shipping.fullName}</strong></p>
          <p>${shipping.address1}</p>
          ${shipping.address2 ? `<p>${shipping.address2}</p>` : ''}
          <p>${shipping.city}, ${shipping.state} - ${shipping.pincode}</p>
          <p>Phone: ${shipping.phone}</p>
        `;

        // Display payment method
        const paymentMethod = orderData.paymentMethod === 'cod' ? 'Cash on Delivery' : 'Online Payment';
        document.getElementById('paymentMethod').textContent = paymentMethod;

        // Calculate estimated delivery date
        const orderDate = new Date(orderData.orderDate);
        const minDelivery = new Date(orderDate);
        const maxDelivery = new Date(orderDate);
        minDelivery.setDate(minDelivery.getDate() + 7);
        maxDelivery.setDate(maxDelivery.getDate() + 10);
        
        const options = { month: 'short', day: 'numeric' };
        const deliveryText = `${minDelivery.toLocaleDateString('en-IN', options)} - ${maxDelivery.toLocaleDateString('en-IN', options)}, ${maxDelivery.getFullYear()}`;
        document.getElementById('deliveryDate').textContent = deliveryText;

        // Helper function
        function formatPrice(amount) {
          return amount.toLocaleString('en-IN');
        }
      });
    </script>
  </body>
</html>
